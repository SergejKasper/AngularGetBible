!function(e){e.module("angularGetBible.config",[]).value("angularGetBible.config",{debug:!0}),e.module("angularGetBible.directives",[]),e.module("angularGetBible.services",[]),e.module("angularGetBible",["angularGetBible.config","angularGetBible.directives","angularGetBible.services","ngCookies"])}(angular),angular.module("angularGetBible.directives").directive("getBibleNavigation",function(e){return{scope:{showOptions:"=?shownOptions",selectedVersion:"=?selectedVersion",selectedChapter:"=?selectedChapter",selectedBook:"=?selectedBook",selectedVerses:"=?selectedVerses",selection:"=?selection"},link:function(t){t.selection={};var s=["version","book","chapter","verse"];t.selectedVersion=t.selectedVersion||"kjv",t.selectedBook=t.selectedBook||"",t.selectedChapter=t.selectedChapter||"",t.selectedVerses=t.selectedVerses||[],t.shownOptions=t.shownOptions||s,t.$watch("shownOptions",function(e){t.options=s.filter(function(t){return-1!==e.indexOf(t)})}),e.getBooks(t.selectedVersion).success(function(e){t.books=e}).error(function(e){console.log(e)}),t.selectBook=function(s){t.selectedBook=s,s&&e.getChapters(s.book_nr,t.selectedVersion).success(function(e){t.chapters=e}).error(function(e){console.log(e)})},t.selectChapter=function(s){t.selectedChapter=s,s&&e.getVerses(t.selectedBook.book_name,s,t.selectedVersion).success(function(e){t.verseNrs=Object.keys(e.chapter),t.verses=e}).error(function(e){console.log(e)})},t.selectVerses=function(e){-1===t.selectedVerses.indexOf(e)?t.selectedVerses.push(e):t.selectedVerses=t.selectedVerses.filter(function(t){return t!==e}),t.selection.verses=t.selectedVerses.map(function(e){return t.verses.chapter[e]}),t.selection.verse_nr=t.selectedVerses,t.selection.book_name=t.verses.book_name,t.selection.chapter_nr=t.verses.chapter_nr}},templateUrl:"navigation.getbible.template.html"}}),angular.module("angularGetBible.directives").directive("getBibleViewVerses",function(e){return{scope:{verses:"=?verses",verseNr:"&verse_nr",chapterNr:"&chapter_nr",bookName:"&book_name"},link:function(t,s,r){t.$watchCollection("[verses, verseNr, chapterNr, bookName]",function(){!t.verses&&r.chapterNr&&!isNaN(r.chapterNr)&&r.bookName&&e.getVerses(r.bookName,r.chapterNr,"kjv").success(function(e){var s=r.verseNr?JSON.parse(r.verseNr):Object.keys(e.chapter);t.verses=s.map(function(t){return e.chapter[t]}),t.bookName=e.book_name,t.chapterNr=e.chapter_nr}).error(function(e){console.log(e)})})},templateUrl:"verse.getbible.template.html"}}),angular.module("angularGetBible.services").provider("GetBibleService",function(){function e(e){this.getVerse=function(t,s,r,o){return t=t||"",s=s||"",r=r?":"+r.toString():"",o=o||"kjv",e.jsonp("http://getbible.net/json?getbible=JSON_CALLBACK",{params:{p:t+s+r,v:o}})},this.getVerses=function(e,t,s){return this.getVerse(e,t,!1,s)},this.getBooks=function(t){return e.jsonp("http://getbible.net/json?getbible=",{params:{callback:"JSON_CALLBACK",option:"com_getbible",task:"bible.books",format:"json",v:t}})},this.getChapters=function(t,s){return e.jsonp("http://getbible.net/json?getbible=",{params:{callback:"JSON_CALLBACK",option:"com_getbible",task:"bible.chapter",format:"json",v:s,nr:t}})}}this.$get=["$http",function(t){return new e(t)}]});